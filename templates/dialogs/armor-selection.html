<div class="armor-selection-dialog" style="padding: 0;">
  <div class="armor-dialog-container" style="display: flex; flex-direction: column; gap: 15px; min-height: 400px; max-height: 600px;">
    <div class="armor-filters" style="display: flex; gap: 10px; padding: 15px; border-bottom: 1px solid rgba(189, 95, 255, 0.3); flex-wrap: wrap;">
      <button type="button" class="armor-filter-btn active" data-filter="all" style="padding: 8px 16px; background: rgba(189, 95, 255, 0.1); border: 1px solid rgba(189, 95, 255, 0.3); border-radius: 5px; color: #d1d1d1; cursor: pointer; transition: all 0.2s; font-size: 13px;">All</button>
      <button type="button" class="armor-filter-btn" data-filter="light" style="padding: 8px 16px; background: rgba(189, 95, 255, 0.1); border: 1px solid rgba(189, 95, 255, 0.3); border-radius: 5px; color: #d1d1d1; cursor: pointer; transition: all 0.2s; font-size: 13px;">Light Armor</button>
      <button type="button" class="armor-filter-btn" data-filter="medium" style="padding: 8px 16px; background: rgba(189, 95, 255, 0.1); border: 1px solid rgba(189, 95, 255, 0.3); border-radius: 5px; color: #d1d1d1; cursor: pointer; transition: all 0.2s; font-size: 13px;">Medium Armor</button>
      <button type="button" class="armor-filter-btn" data-filter="heavy" style="padding: 8px 16px; background: rgba(189, 95, 255, 0.1); border: 1px solid rgba(189, 95, 255, 0.3); border-radius: 5px; color: #d1d1d1; cursor: pointer; transition: all 0.2s; font-size: 13px;">Heavy Armor</button>
    </div>
    <div class="armor-content-area" style="flex: 1; display: flex; flex-direction: column; padding: 15px; min-width: 0; overflow: hidden;">
      <p class="dialog-description" style="color: #d1d1d1; margin-bottom: 15px; font-size: 14px;">Select an armor to purchase:</p>
      <div class="armor-list" style="flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px;">
        {{#each armors as |armor|}}
        <div class="armor-selection-item" data-item-id="{{armor._id}}" data-armor-type="{{armor.type}}" style="display: flex; align-items: flex-start; gap: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(189, 95, 255, 0.3); border-radius: 5px; cursor: pointer; transition: all 0.3s ease;">
          <img class="armor-icon" src="{{armor.img}}" alt="{{armor.name}}" onerror="this.src='icons/svg/shield.svg'" style="width: 48px; height: 48px; max-width: 48px; max-height: 48px; border: 1px solid rgba(189, 95, 255, 0.3); border-radius: 3px; flex-shrink: 0; object-fit: contain;">
          <div class="armor-info" style="flex: 1; min-width: 0;">
            <div class="armor-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; gap: 10px;">
              <div class="armor-name" style="color: #ffffff; font-weight: bold; font-size: 16px; flex: 1;">{{armor.name}}</div>
              <div class="armor-price" style="color: #BD5FFF; font-weight: bold; font-size: 16px; white-space: nowrap;">{{armor.price}} credits</div>
            </div>
            <div class="armor-details" style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 8px; font-size: 12px; color: #a0aec0;">
              <span class="armor-type-badge armor-type-{{armor.type}}" style="padding: 4px 8px; border-radius: 3px; font-weight: bold; font-size: 11px; text-transform: uppercase; {{#if (eq armor.type 'light')}}background: rgba(100, 200, 255, 0.2); border: 1px solid rgba(100, 200, 255, 0.5); color: #64c8ff;{{/if}}{{#if (eq armor.type 'medium')}}background: rgba(255, 200, 100, 0.2); border: 1px solid rgba(255, 200, 100, 0.5); color: #ffc864;{{/if}}{{#if (eq armor.type 'heavy')}}background: rgba(255, 100, 100, 0.2); border: 1px solid rgba(255, 100, 100, 0.5); color: #ff6464;{{/if}}">{{armor.typeLabel}}</span>
              <span class="armor-ac" style="color: #a0aec0;">Base AC: {{armor.baseAC}}</span>
              {{#if armor.agilityCap}}
              <span class="armor-agility-cap" style="color: #a0aec0;">Agility Cap: {{armor.agilityCap}}</span>
              {{else}}
              <span class="armor-agility-cap" style="color: #a0aec0;">Agility Cap: No cap</span>
              {{/if}}
              {{#if armor.mightRequirement}}
              <span class="armor-might-req" style="color: #a0aec0;">Might Req: {{armor.mightRequirement}}</span>
              {{/if}}
            </div>
            {{#if armor.descriptionShort}}
            <div class="armor-description" style="color: #a0aec0; font-size: 12px; line-height: 1.4; margin-top: 8px; max-height: 60px; overflow: hidden; text-overflow: ellipsis;">{{armor.descriptionShort}}</div>
            {{/if}}
          </div>
        </div>
        {{/each}}
      </div>
    </div>
  </div>
</div>
